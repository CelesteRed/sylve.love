"use strict";(()=>{var V=["assets/images/ufo1.png","assets/images/ufo2.png"],u={maxPetals:35,spawnInterval:320,speedMin:.6,speedMax:1.8,driftAmount:40,driftSpeed:.008,sizeMin:18,sizeMax:42,rotateMin:-.02,rotateMax:.02,opacityMin:.55,opacityMax:.95};function f(h,t){return Math.random()*(t-h)+h}function U(h){return h[Math.floor(Math.random()*h.length)]}var E=class{constructor(t){this.petals=[];this.images=[];this.spawnTimer=0;this.running=!1;this.lastTime=0;this.frameTimes=[];this.fpsCheckTimer=0;this.targetMaxPetals=u.maxPetals;let s=document.getElementById(t);if(!s||!(s instanceof HTMLCanvasElement))throw new Error(`Canvas element "#${t}" not found.`);this.canvas=s,this.ctx=s.getContext("2d"),this.resize(),window.addEventListener("resize",()=>this.resize())}async start(){this.images=await this.loadImages(V),this.images.length===0&&console.warn("[petals] No petal images loaded \u2014 drawing circles as fallback."),this.running=!0,this.lastTime=performance.now(),requestAnimationFrame(t=>this.loop(t))}stop(){this.running=!1}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}async loadImages(t){let s=[];for(let o of t)try{let a=await this.loadImage(o);s.push(a)}catch{console.warn(`[petals] Could not load "${o}" \u2014 skipping.`)}return s}loadImage(t){return new Promise((s,o)=>{let a=new Image;a.onload=()=>s(a),a.onerror=o,a.src=t})}spawn(){if(this.petals.length>=this.targetMaxPetals)return;let t=f(u.sizeMin,u.sizeMax),s={x:f(-t,this.canvas.width+t),y:-t-f(0,40),size:t,speed:f(u.speedMin,u.speedMax),drift:f(-u.driftAmount,u.driftAmount),driftPhase:f(0,Math.PI*2),driftSpeed:f(u.driftSpeed*.6,u.driftSpeed*1.4),rotation:f(0,Math.PI*2),rotationSpeed:f(u.rotateMin,u.rotateMax),opacity:f(u.opacityMin,u.opacityMax),img:this.images.length>0?U(this.images):new Image};this.petals.push(s)}loop(t){if(!this.running)return;let s=t-this.lastTime;if(this.lastTime=t,s>0&&s<500&&(this.frameTimes.push(s),this.frameTimes.length>60&&this.frameTimes.shift(),this.fpsCheckTimer+=s,this.fpsCheckTimer>=2e3)){this.fpsCheckTimer=0;let a=1e3/(this.frameTimes.reduce((d,p)=>d+p,0)/this.frameTimes.length);a<20&&this.targetMaxPetals>5?this.targetMaxPetals=Math.max(5,this.targetMaxPetals-8):a<30&&this.targetMaxPetals>5?this.targetMaxPetals=Math.max(5,this.targetMaxPetals-3):a>45&&this.targetMaxPetals<u.maxPetals&&(this.targetMaxPetals=Math.min(u.maxPetals,this.targetMaxPetals+2))}this.spawnTimer+=s,this.spawnTimer>=u.spawnInterval&&(this.spawnTimer-=u.spawnInterval,this.spawn()),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let o=this.petals.length-1;o>=0;o--){let a=this.petals[o];if(a.y+=a.speed,a.driftPhase+=a.driftSpeed,a.x+=Math.sin(a.driftPhase)*(a.drift*.015),a.rotation+=a.rotationSpeed,a.y>this.canvas.height+a.size+20){this.petals.splice(o,1);continue}this.ctx.save(),this.ctx.globalAlpha=a.opacity,this.ctx.translate(a.x,a.y),this.ctx.rotate(a.rotation),this.images.length>0&&a.img.complete&&a.img.naturalWidth>0?this.ctx.drawImage(a.img,-a.size/2,-a.size/2,a.size,a.size):(this.ctx.beginPath(),this.ctx.ellipse(0,0,a.size/2,a.size/3,0,0,Math.PI*2),this.ctx.fillStyle=`hsla(${f(300,340)}, 70%, 82%, ${a.opacity})`,this.ctx.fill()),this.ctx.restore()}requestAnimationFrame(o=>this.loop(o))}};var Z=["assets/emojis/Semoji1.png","assets/emojis/Semoji2.png","assets/emojis/Semoji3.png","assets/emojis/Semoji4.png","assets/emojis/Semoji5.png","assets/emojis/Semoji6.png","assets/emojis/Semoji7.png","assets/emojis/Semoji8.png","assets/emojis/Semoji9.png","assets/emojis/Semoji10.png"],K=["assets/emojis/Cemoji1.webp","assets/emojis/Cemoji2.webp"],R=["https://www.roblox.com/users/290467810/profile","https://discord.sylve.love","https://www.youtube.com/@SylveLove","https://tracker.gg/valorant/profile/riot/Hachi%23Love/overview?platform=pc&playlist=swiftplay&season=3ea2b318-423b-cf86-25da-7cbb0eefbe2d","https://namemc.com/profile/luvsylve.1","https://www.youtube.com/watch?v=MZTlbDgpqW8","https://sylve.love/404.html",""],S="home";function B(h){S=h}var Q={home:["hewwo~!","*notices you*","\u273F so pretty \u273F","**kawaii!!**","\u2727 sparkle \u2727","hi hi hi~","take me to your leader! \u2570\uFF08\u2035\u25A1\u2032\uFF09\u256F","I baked cookies!! want one? \u2727","earth is so *pretty*~","don't tell the overlords we're here~","celeste!! stop eating all the **donuts**!!","I drew something for you~! \u2727","hit your shots *next time* \u2727","sorry~ sorry~ ...sorry~","my animal jam den is **so cute**~","*writing a new story~* \u2727","*spike collar?*"],references:["draw me!! \u2727","do I look pretty? \u273F","that's **me**!!","*twirls*","get my good side~","alien kawaii **princess**!","I drew this ref *myself*~ \u2727","the *tiara* stays **on**!","I used my royal magic for this look \u2727"],lore:["it's a long story...","we came from *so far away*~ \u2727","shhh it's a *secret*~","we ditched the overlords! **freedom!!**","earth has the best *baking supplies*~","I'm writing our story!! \u2727","I'm a *royal* you know~ \u273F","my magic is **sparkly** not scary!","celeste protects me~ I bake for her \u2727","the overlords can't find us here~"],"va-portfolio":["can you hear me? \u2727","*clears throat*","**voice acting time!!**","~testing testing~ 1 2 3","I can do voices!","hire me!! \u2727","*mic drop*"],gallery:["I drew that one!! \u2727","so many pictures!! \u273F","that one's my **fav**!","ooh pretty~","*strikes a pose*","gallery tour! \u2727","I paint with **magic** sometimes~","celeste looks so *cool* in that one!!"],credits:["thank you everyone!! \u2727","couldn't do it without you~","*bows*","you're all amazing!!","I baked a thank you cake!! \u2727","celeste made this whole site for **me**~ \u273F"],404:["how did we get here?","I'm **lost**!!","this isn't right...","where... am I? \u2727","**confused alien noises**","take me home!!","I don't belong here~","did I use the wrong *magic spell*?","celeste!! **help**!!"]},ee={home:["let me go!!","hey stop that!","*squeaks*","unhand me!!","**AAAA!!**","too tight!!","put me down~","nuuuuu!","I'll burn your **cookies**!!","celeste will punch you!! \u1566(\xF2_\xF3\u02C7)\u1564","I'm a **princess**!! unhand me!!","my overwatch rank!! I was in a *match*!!"],references:["don't smudge the **art**!!","**careful** with me!","I'm a *reference*!!","hands off!! I just finished *drawing*~","you're ruining my *pose*!!"],lore:["this isn't in my **backstory**!!","not *canon*!!","the overlords didn't even grab me like **this**!!","I'm writing you into the story as a *villain*!!","unscripted!! **unscripted!!**"],"va-portfolio":["that's not in the **script**!!","*screams into mic*","CUT!! **CUT!!**","this isn't the audition!"],gallery:["I'm not an **exhibit**!!","look don't *touch*!!","you'll smudge the **canvas**!!","my art!! be *careful*!!"],credits:["I'm in the **credits**!!","don't drag the credits~","hey I was *bowing*!","celeste put me in the credits for a **reason**!!"],404:["I'm already **lost**!!","stop making it worse!!","put me back!! **please**!!","I just want to go *home* and bake~","my magic can't fix **this**!!"]},te={home:["celeste.red btw","I made this website~","\u2727 *coding noises* \u2727","**world domination**","i love sylve so much","i miss my *wife*~ \u0CA5_\u0CA5","give *her* the **world**! \u1566(\xF2_\xF3\u02C7)\u1564","anyone got **boston kremes**?","I'm NOT cute. I'm **intimidating**.","sylve's cookies are *the best*~","just got off a 12 hour *minecraft* session","I don't need magic. I have **fists**.","the overlords can *catch these hands*","sylve baked me a cake \u0CA5_\u0CA5 **I love her**"],references:["that's my **wife**!!","she's so pretty~ *not that I'm cute or anything*","celeste.red btw","I'm not *cute* I'm **strong**","she drew this herself!! \u2727","sylve made me look *cool* in that one"],lore:["we ditched the **overlords** together","I punch things. she does *magic*. we work.","earth has **boston kremes**. best planet.","the overlords can *catch these hands*","I'm not royal but I married **royalty**~","no magic? no problem. **fists**.","we chose *donuts* over world conquest"],"va-portfolio":["she sounds **amazing** right?!","that's my *wife's* voice!!","celeste.red btw","I don't do voice acting. I do **punching**.","hire her!! \u1566(\xF2_\xF3\u02C7)\u1564"],gallery:["look at my **wife**!!","she drew all of these~","I coded the *gallery* btw","celeste.red btw","pixel **perfect** like my wife \u2727","I'm not in enough of these. *unfair*."],credits:["that's **me**!! right there!!","I made **all** of this~","celeste.red **celeste.red**","you're welcome~","**world domination** starts with good code","sylve baked the *thank you treats*~","I coded this for my **wife** \u2727"],404:["I didn't code this page... *wait*","**bug report** filed","this is *not* my fault~","\u2727 *debugging noises* \u2727","404: wife **not found** \u0CA5_\u0CA5","who broke my **website**?!","I need a boston kreme to *calm down*"]},ie={home:["I don't need magic to **hurt you**","you can't hold a **warrior**!!","**bugs incoming** if you don't let go","ctrl+z ctrl+z!!","this wasn't in the code!","**YOU WILL REGRET THIS!**","watch where that hand is going **bud**","I will **end** you. *not cute btw*.","you're spilling my **boston kremes**!!","sylve!! *they're grabbing me*!!"],references:["that's my wife's **art** you're near!!","hands off!! I'm **not** a reference!!","I'll ref sheet your *face*!!"],lore:["this isn't **canon**!!","I punched overlords bigger than **you**!!","not in the *backstory*!!","I didn't leave my planet for **this**!!"],"va-portfolio":["I don't do *voice acting* I do **violence**!!","this isn't in the script!!","let go or I'm calling **sylve**!!"],gallery:["I'm not an **art piece**!!","don't touch the **coder**!!","I'll *pixel* your face!!","my wife worked hard on this **gallery**!!"],credits:["I'm in the **credits**!! respect me!!","the coder demands **release**!!","you can't hold the **credits**!!","I made this site for my *wife* not for **this**!!"],404:["I'm trying to **fix** this!!","stop!! I need to *debug*!!","you're making the 404 **worse**!!","let me **code** in peace!!","I need a boston kreme and *silence*!!"]},i={count:10,size:64,speedMin:1.2,speedMax:2.5,opacity:.85,influenceRadius:200,deadZoneRadius:30,minSlowdown:0,squishRadius:60,squishRotation:12,squishAmount:.9,squishSpeed:.12,lifespanMin:10,lifespanMax:60,fadeInTime:.6,fadeOutTime:4,hoverRadius:80,hoverScale:1.25,hoverOutlineSize:3,hoverOutlineColor:"rgba(255,255,255,1)",hoverOutlineBlur:1,throwMultiplier:.4,throwMaxSpeed:12,throwFriction:.985,throwFrictionCutoff:3,wiggleAmount:2,wiggleSpeed:.02,bubbleIntervalMin:5,bubbleIntervalMax:15,bubbleDurationMin:2,bubbleDurationMax:4};function m(h,t){return Math.random()*(t-h)+h}function T(h){return h[Math.floor(Math.random()*h.length)]}function k(){let h=m(i.speedMin,i.speedMax);return Math.random()>.5?h:-h}function F(h,t,s){return Math.max(t,Math.min(s,h))}function $(h){return h.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/~~(.+?)~~/g,"<s>$1</s>").replace(/`(.+?)`/g,"<code>$1</code>").replace(/__(.+?)__/g,"<u>$1</u>")}var j=class{constructor(t,s){this.emojis=[];this.running=!1;this.mouseX=-9999;this.mouseY=-9999;this.validSylveSrcs=[];this.validCelesteSrcs=[];this.dragTarget=null;this.dragOffsetX=0;this.dragOffsetY=0;this.dragStartX=0;this.dragStartY=0;this.dragTrail=[];this.frameTimes=[];this.lastFrameTime=0;this.fpsCheckInterval=2e3;this.fpsCheckTimer=0;this.targetCount=i.count;this.isTouchDevice=!1;let o=document.getElementById(t);if(!o)throw new Error(`Container "#${t}" not found.`);this.container=o,this.forceSrc=s?.forceSrc}async start(){if(this.validSylveSrcs=await this.validateImages(Z),this.validCelesteSrcs=await this.validateImages(K),this.validSylveSrcs.length===0){console.warn("[emoji-bouncer] No Sylve emoji images loaded \u2014 skipping.");return}window.addEventListener("mousemove",t=>{this.mouseX=t.clientX,this.mouseY=t.clientY,this.onDragMove(t)}),window.addEventListener("mouseleave",()=>{this.mouseX=-9999,this.mouseY=-9999,this.onDragEnd()}),window.addEventListener("mouseup",()=>{this.onDragEnd()}),window.addEventListener("touchstart",()=>{this.isTouchDevice=!0},{passive:!0}),window.addEventListener("touchmove",t=>{let s=t.touches[0];s&&(this.mouseX=s.clientX,this.mouseY=s.clientY,this.dragTarget&&(t.preventDefault(),this.onDragMoveXY(s.clientX,s.clientY)))},{passive:!1}),window.addEventListener("touchend",()=>{this.mouseX=-9999,this.mouseY=-9999,this.onDragEnd()}),window.addEventListener("touchcancel",()=>{this.mouseX=-9999,this.mouseY=-9999,this.onDragEnd()});for(let t=0;t<i.count;t++)this.spawnEmoji(this.forceSrc||T(this.validSylveSrcs));this.running=!0,requestAnimationFrame(()=>this.loop())}stop(){this.running=!1}spawnSpecific(t,s,o,a,d="sylve",p){let r=i.size,e=document.createElement("img");e.src=t,e.width=r,e.height=r,e.style.opacity="0",e.draggable=!1;let c=performance.now(),w=document.createElement("div");w.className="emoji-bubble",w.style.opacity="0";let g={el:e,bubbleEl:w,link:a,emojiType:d,x:s-r/2,y:o-r/2,vx:k(),vy:k(),livedTime:0,lifespan:m(i.lifespanMin,i.lifespanMax)*1e3,lastTick:c,wigglePhase:m(0,Math.PI*2),wiggleClock:0,squishClock:m(0,Math.PI*2),dragging:!1,thrown:!1,bubbleTimer:m(i.bubbleIntervalMin,i.bubbleIntervalMax)*1e3,bubbleShowTime:0,bubbleDuration:0,bubbleActive:!1,wasDragging:!1};p&&(g.bubbleEl.innerHTML=$(p),g.bubbleEl.style.opacity="1",g.bubbleActive=!0,g.bubbleShowTime=0,g.bubbleDuration=m(i.bubbleDurationMin,i.bubbleDurationMax)*1e3),e.addEventListener("mousedown",M=>{this.onDragStart(M,g)}),e.addEventListener("touchstart",M=>{this.onTouchStart(M,g)},{passive:!1}),e.style.left=`${g.x}px`,e.style.top=`${g.y}px`,this.container.appendChild(e),this.container.appendChild(w),this.emojis.push(g)}onDragStart(t,s){t.preventDefault(),this.startDrag(t.clientX,t.clientY,s)}onTouchStart(t,s){let o=t.touches[0];o&&(t.preventDefault(),this.startDrag(o.clientX,o.clientY,s))}startDrag(t,s,o){o.dragging=!0,o.thrown=!1,this.dragTarget=o,this.dragOffsetX=t-o.x,this.dragOffsetY=s-o.y,this.dragStartX=t,this.dragStartY=s,this.dragTrail=[{x:t,y:s,t:performance.now()}]}onDragMove(t){this.onDragMoveXY(t.clientX,t.clientY)}onDragMoveXY(t,s){if(!this.dragTarget)return;let o=this.dragTarget;o.x=t-this.dragOffsetX,o.y=s-this.dragOffsetY;let a=performance.now();for(this.dragTrail.push({x:t,y:s,t:a});this.dragTrail.length>1&&a-this.dragTrail[0].t>80;)this.dragTrail.shift()}onDragEnd(){if(!this.dragTarget)return;let t=this.dragTarget;if(t.dragging=!1,this.dragTrail.length>=2){let o=this.dragTrail[0],a=this.dragTrail[this.dragTrail.length-1],d=a.t-o.t;if(d>0){let p=(a.x-o.x)/d,r=(a.y-o.y)/d,e=i.throwMultiplier,c=i.throwMaxSpeed;t.vx=F(p*16*e,-c,c),t.vy=F(r*16*e,-c,c),t.thrown=!0}}Math.sqrt((this.mouseX-this.dragStartX)**2+(this.mouseY-this.dragStartY)**2)<5&&t.link&&window.open(t.link,"_blank","noopener"),this.dragTarget=null,this.dragTrail=[]}async validateImages(t){let s=[];for(let o of t)await this.probe(o)?s.push(o):console.warn(`[emoji-bouncer] Could not load "${o}" \u2014 skipping.`);return s}probe(t){return new Promise(s=>{let o=new Image;o.onload=()=>s(!0),o.onerror=()=>s(!1),o.src=t})}spawnEmoji(t){let s=i.size,o=document.createElement("img");o.src=t,o.width=s,o.height=s,o.style.opacity="0",o.draggable=!1;let a=window.innerWidth-s,d=window.innerHeight-s,p=performance.now(),r=document.createElement("div");r.className="emoji-bubble",r.style.opacity="0";let e={el:o,bubbleEl:r,link:R.length>0?T(R):"",emojiType:"sylve",x:m(0,Math.max(a,1)),y:m(0,Math.max(d,1)),vx:k(),vy:k(),livedTime:0,lifespan:m(i.lifespanMin,i.lifespanMax)*1e3,lastTick:p,wigglePhase:m(0,Math.PI*2),wiggleClock:0,squishClock:m(0,Math.PI*2),dragging:!1,thrown:!1,bubbleTimer:m(i.bubbleIntervalMin,i.bubbleIntervalMax)*1e3,bubbleShowTime:0,bubbleDuration:0,bubbleActive:!1,wasDragging:!1};o.addEventListener("mousedown",c=>{this.onDragStart(c,e)}),o.addEventListener("touchstart",c=>{this.onTouchStart(c,e)},{passive:!1}),o.style.left=`${e.x}px`,o.style.top=`${e.y}px`,this.container.appendChild(o),this.container.appendChild(r),this.emojis.push(e)}respawn(t){let s=this.emojis[t];s.el.remove(),s.bubbleEl.remove(),this.emojis.splice(t,1),this.emojis.length<this.targetCount&&this.spawnEmoji(this.forceSrc||T(this.validSylveSrcs))}loop(){if(!this.running)return;let t=performance.now();if(this.lastFrameTime>0){let r=t-this.lastFrameTime;if(this.frameTimes.push(r),this.frameTimes.length>60&&this.frameTimes.shift(),this.fpsCheckTimer+=r,this.fpsCheckTimer>=this.fpsCheckInterval){this.fpsCheckTimer=0;let c=1e3/(this.frameTimes.reduce((w,g)=>w+g,0)/this.frameTimes.length);c<20&&this.targetCount>1?this.targetCount=Math.max(1,this.targetCount-3):c<30&&this.targetCount>1?this.targetCount=Math.max(1,this.targetCount-1):c>45&&this.targetCount<i.count&&(this.targetCount=Math.min(i.count,this.targetCount+1))}}this.lastFrameTime=t;let s=window.innerWidth,o=window.innerHeight,a=i.size,d=i.fadeInTime*1e3,p=i.fadeOutTime*1e3;for(let r=this.emojis.length-1;r>=0;r--){let e=this.emojis[r],c=t-e.lastTick;if(e.lastTick=t,e.dragging){e.el.style.left=`${e.x}px`,e.el.style.top=`${e.y}px`,e.el.style.opacity=String(i.opacity);let n=i.hoverOutlineSize,l=i.hoverOutlineColor,b=i.hoverOutlineBlur;e.el.style.filter=[`drop-shadow(${n}px 0 ${b}px ${l})`,`drop-shadow(${-n}px 0 ${b}px ${l})`,`drop-shadow(0 ${n}px ${b}px ${l})`,`drop-shadow(0 ${-n}px ${b}px ${l})`,`drop-shadow(${n}px ${n}px ${b}px ${l})`,`drop-shadow(${-n}px ${n}px ${b}px ${l})`,`drop-shadow(${n}px ${-n}px ${b}px ${l})`,`drop-shadow(${-n}px ${-n}px ${b}px ${l})`].join(" "),e.el.style.transform=`scale(${i.hoverScale})`;let I=e.emojiType==="celeste"?ie[S]:ee[S];!e.wasDragging&&I.length>0?(e.bubbleEl.innerHTML=$(T(I)),e.bubbleEl.style.opacity="1",e.bubbleActive=!0,e.bubbleShowTime=0,e.bubbleDuration=m(i.bubbleDurationMin,i.bubbleDurationMax)*1e3):e.bubbleActive&&(e.bubbleShowTime+=c,e.bubbleShowTime>=e.bubbleDuration&&I.length>0&&(e.bubbleEl.innerHTML=$(T(I)),e.bubbleShowTime=0,e.bubbleDuration=m(i.bubbleDurationMin,i.bubbleDurationMax)*1e3)),e.wasDragging=!0,e.bubbleEl.style.left=`${e.x+a/2}px`,e.bubbleEl.style.top=`${e.y-8}px`;continue}if(e.thrown&&(e.vx*=i.throwFriction,e.vy*=i.throwFriction,Math.sqrt(e.vx*e.vx+e.vy*e.vy)<i.throwFrictionCutoff)){e.thrown=!1;let l=Math.atan2(e.vy,e.vx),b=m(i.speedMin,i.speedMax);e.vx=Math.cos(l)*b,e.vy=Math.sin(l)*b}let w=e.x+a/2,g=e.y+a/2,M=w-this.mouseX,O=g-this.mouseY,y=Math.sqrt(M*M+O*O),v,C;if(this.isTouchDevice)v=1,C=!1;else{let n=i.influenceRadius,l=i.deadZoneRadius;if(e.thrown)v=1;else if(y<=l)v=i.minSlowdown;else if(y>=n)v=1;else{let b=(y-l)/(n-l);v=i.minSlowdown+b*(1-i.minSlowdown)}C=y<n}let Y=e.lifespan-p;if((e.livedTime>=Y||!C)&&(e.livedTime+=c),e.livedTime>=e.lifespan){this.respawn(r);continue}let D=i.opacity;if(e.livedTime<d)D=i.opacity*(e.livedTime/d);else if(e.livedTime>=Y){let n=e.lifespan-e.livedTime;D=i.opacity*(n/p)}let z=i.hoverRadius,P=y<z?1-y/z:0,q=1+(i.hoverScale-1)*P,X=i.hoverOutlineSize*P,x=i.hoverOutlineColor,_="";if(X>.2){let n=X,l=i.hoverOutlineBlur*P;_=[`drop-shadow(${n}px 0 ${l}px ${x})`,`drop-shadow(${-n}px 0 ${l}px ${x})`,`drop-shadow(0 ${n}px ${l}px ${x})`,`drop-shadow(0 ${-n}px ${l}px ${x})`,`drop-shadow(${n}px ${n}px ${l}px ${x})`,`drop-shadow(${-n}px ${n}px ${l}px ${x})`,`drop-shadow(${n}px ${-n}px ${l}px ${x})`,`drop-shadow(${-n}px ${-n}px ${l}px ${x})`].join(" ")}e.el.style.opacity=String(Math.max(0,D)),e.el.style.filter=_,e.wiggleClock+=v;let G=Math.sin(e.wigglePhase+e.wiggleClock*i.wiggleSpeed)*i.wiggleAmount*v,H=i.squishRadius,L=y<H?1-y/H:0;e.squishClock+=i.squishSpeed;let A=Math.sin(e.squishClock),N=A*i.squishRotation*L,W=(1-(1-i.squishAmount)*L*Math.abs(A))*q,J=(1+(1-i.squishAmount)*L*Math.abs(A)*.5)*q;if(e.el.style.transform=`rotate(${N}deg) scaleX(${W}) scaleY(${J})`,e.thrown?(e.x+=e.vx,e.y+=e.vy):(e.x+=e.vx*v+G,e.y+=e.vy*v),e.x+a>=s?(e.x=s-a,e.vx=-Math.abs(e.vx)):e.x<=0&&(e.x=0,e.vx=Math.abs(e.vx)),e.y+a>=o?(e.y=o-a,e.vy=-Math.abs(e.vy)):e.y<=0&&(e.y=0,e.vy=Math.abs(e.vy)),e.el.style.left=`${e.x}px`,e.el.style.top=`${e.y}px`,e.wasDragging&&(e.wasDragging=!1,e.bubbleEl.style.opacity="0",e.bubbleActive=!1,e.bubbleTimer=m(i.bubbleIntervalMin,i.bubbleIntervalMax)*1e3),e.bubbleActive)e.bubbleShowTime+=c,e.bubbleShowTime>=e.bubbleDuration&&(e.bubbleEl.style.opacity="0",e.bubbleActive=!1,e.bubbleTimer=m(i.bubbleIntervalMin,i.bubbleIntervalMax)*1e3);else{e.bubbleTimer-=c;let n=e.emojiType==="celeste"?te[S]:Q[S];e.bubbleTimer<=0&&n.length>0&&(e.bubbleEl.innerHTML=$(T(n)),e.bubbleEl.style.opacity="1",e.bubbleActive=!0,e.bubbleShowTime=0,e.bubbleDuration=m(i.bubbleDurationMin,i.bubbleDurationMax)*1e3)}e.bubbleEl.style.left=`${e.x+a/2}px`,e.bubbleEl.style.top=`${e.y-8}px`}requestAnimationFrame(()=>this.loop())}};document.addEventListener("DOMContentLoaded",()=>{B("404"),i.count=1,new E("petal-canvas").start();let t=new j("emoji-bouncer",{forceSrc:"assets/emojis/Semoji4.png"});t.start();let s=["\u2727","\u2605","\u{1F49C}","\u{1F496}","\u2728","\u2606","\u22C6","\u2661"],o=document.getElementById("celeste-particles");o&&document.querySelectorAll(".sparkle-hover").forEach(d=>{d.addEventListener("mousemove",p=>{if(Math.random()>.35)return;let r=p,e=document.createElement("span");e.className="celeste-particle",e.textContent=s[Math.floor(Math.random()*s.length)],e.style.left=`${r.clientX+(Math.random()-.5)*30}px`,e.style.top=`${r.clientY}px`,e.style.setProperty("--drift",`${(Math.random()-.5)*60}px`),e.style.setProperty("--spin",`${(Math.random()-.5)*180}deg`),o.appendChild(e),setTimeout(()=>e.remove(),2e3)})});let a=document.getElementById("credits-name");if(a){let d=0;a.addEventListener("mousemove",p=>{let r=Date.now();if(r-d<800)return;d=r;let e=Math.random()<.1?"Taking over the world":void 0;t.spawnSpecific("assets/emojis/Cemoji1.webp",p.clientX,p.clientY,"https://celeste.red/","celeste",e)})}});})();
